import{c as f,d as V,a as l,b as e,p as m,j as x,z as D,g as k,v as B,A as F,e as R,F as _,s as w,f as g,t as a,r as c,m as h,k as U,n as v,i as q,l as z,U as G,x as C,N as I,o as n}from"./index-CUmndf2P.js";import{a as $}from"./stok-o4hf6QBl.js";import{A as E}from"./arrow-left-Cpmr9AlM.js";import{C as H}from"./clock-2-xbkcPU.js";const O=f("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);const Q=f("package-minus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);const W=f("package-plus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),J={class:"space-y-6"},K={class:"flex items-center gap-4"},X={class:"card p-4"},Y={class:"flex flex-col lg:flex-row gap-4"},Z={class:"flex-1 relative"},ee={class:"space-y-4"},te={class:"flex items-start gap-4"},se={class:"flex-1 min-w-0"},ae={class:"flex items-start justify-between gap-4"},oe={class:"flex items-center gap-2 mb-1"},ne={class:"badge badge-neutral"},le={class:"font-semibold text-text-primary"},re={class:"text-sm text-text-muted font-mono"},de={class:"text-right"},ie={class:"text-sm text-text-muted"},ce={class:"mt-3 pt-3 border-t border-border grid grid-cols-1 md:grid-cols-2 gap-3 text-sm"},ue={class:"font-medium text-text-primary font-mono"},pe={key:0},me={class:"font-medium text-text-primary"},xe={key:1},ve={class:"font-medium text-text-primary"},ye={key:2},ge={class:"font-medium text-text-primary"},he={key:3},fe={class:"font-medium text-text-primary"},be={class:"font-medium text-text-primary flex items-center gap-1"},ke={class:"font-medium text-text-primary flex items-center gap-1"},_e={key:0,class:"mt-3 pt-3 border-t border-border"},we={class:"text-sm text-text-muted"},Ce={key:0,class:"card p-12 text-center"},Me={key:0,class:"card p-4"},Ne={class:"flex items-center justify-between"},Te={class:"text-sm text-text-muted"},Se={class:"flex items-center gap-2"},Le=["disabled"],Pe=["onClick"],je=["disabled"],Ue=V({__name:"StokMutasiPage",setup(Ae){const M=U(),N=c([...$]),d=c(""),u=c(""),r=c(1),i=c(10),p=h(()=>N.value.filter(o=>{const s=!d.value||o.productName.toLowerCase().includes(d.value.toLowerCase())||o.productSku.toLowerCase().includes(d.value.toLowerCase())||o.referenceNumber.toLowerCase().includes(d.value.toLowerCase()),t=!u.value||o.type===u.value;return s&&t})),b=h(()=>{const o=(r.value-1)*i.value,s=o+i.value;return p.value.slice(o,s)}),y=h(()=>Math.ceil(p.value.length/i.value)),T=o=>({penerimaan:W,pengeluaran:Q,transfer:O,adjustment:I})[o],S=o=>({penerimaan:"bg-emerald-100 text-emerald-600",pengeluaran:"bg-red-100 text-red-600",transfer:"bg-violet-100 text-violet-600",adjustment:"bg-amber-100 text-amber-600"})[o],L=o=>({penerimaan:"Penerimaan",pengeluaran:"Pengeluaran",transfer:"Transfer",adjustment:"Adjustment"})[o],P=o=>{switch(o){case"completed":return"badge-success";case"pending":return"badge-warning";case"cancelled":return"badge-danger";default:return"badge-neutral"}},j=o=>new Date(o).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=()=>{M.back()};return(o,s)=>(n(),l("div",J,[e("div",K,[e("button",{onClick:A,class:"btn-icon btn-ghost"},[m(x(E),{class:"w-5 h-5"})]),s[4]||(s[4]=e("div",null,[e("h1",{class:"text-2xl font-display font-bold text-text-primary"},"Riwayat Mutasi Stok"),e("p",{class:"text-text-secondary mt-1"},"Lacak semua pergerakan inventori")],-1))]),e("div",X,[e("div",Y,[e("div",Z,[m(x(D),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),k(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>d.value=t),type:"text",placeholder:"Cari produk atau nomor referensi...",class:"input pl-10"},null,512),[[B,d.value]])]),k(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),class:"input w-full lg:w-48"},[...s[5]||(s[5]=[R('<option value="">Semua Tipe</option><option value="penerimaan">Penerimaan</option><option value="pengeluaran">Pengeluaran</option><option value="transfer">Transfer</option><option value="adjustment">Adjustment</option>',5)])],512),[[F,u.value]])])]),e("div",ee,[(n(!0),l(_,null,w(b.value,t=>(n(),l("div",{key:t.id,class:"card p-4"},[e("div",te,[e("div",{class:v(["p-3 rounded-xl flex-shrink-0",S(t.type)])},[(n(),q(z(T(t.type)),{class:"w-5 h-5"}))],2),e("div",se,[e("div",ae,[e("div",null,[e("div",oe,[e("span",ne,a(L(t.type)),1),e("span",{class:v(["badge",P(t.status)])},a(t.status),3)]),e("h3",le,a(t.productName),1),e("p",re,a(t.productSku),1)]),e("div",de,[e("p",{class:v(["font-bold text-lg",t.quantity>=0?"text-emerald-600":"text-red-600"])},a(t.quantity>=0?"+":"")+a(t.quantity),3),e("p",ie,a(t.unit),1)])]),e("div",ce,[e("div",null,[s[6]||(s[6]=e("p",{class:"text-text-muted"},"Nomor Referensi",-1)),e("p",ue,a(t.referenceNumber),1)]),t.type==="transfer"?(n(),l("div",pe,[s[7]||(s[7]=e("p",{class:"text-text-muted"},"Transfer",-1)),e("p",me,a(t.warehouseNameFrom)+" â†’ "+a(t.warehouseNameTo),1)])):t.type==="penerimaan"?(n(),l("div",xe,[s[8]||(s[8]=e("p",{class:"text-text-muted"},"Gudang Tujuan",-1)),e("p",ve,a(t.warehouseNameTo),1)])):t.type==="pengeluaran"?(n(),l("div",ye,[s[9]||(s[9]=e("p",{class:"text-text-muted"},"Gudang Asal",-1)),e("p",ge,a(t.warehouseNameFrom),1)])):(n(),l("div",he,[s[10]||(s[10]=e("p",{class:"text-text-muted"},"Gudang",-1)),e("p",fe,a(t.warehouseNameFrom),1)])),e("div",null,[s[11]||(s[11]=e("p",{class:"text-text-muted"},"Dibuat Oleh",-1)),e("p",be,[m(x(G),{class:"w-3 h-3"}),C(" "+a(t.createdBy),1)])]),e("div",null,[s[12]||(s[12]=e("p",{class:"text-text-muted"},"Waktu",-1)),e("p",ke,[m(x(H),{class:"w-3 h-3"}),C(" "+a(j(t.createdAt)),1)])])]),t.notes?(n(),l("div",_e,[e("p",we,"Catatan: "+a(t.notes),1)])):g("",!0)])])]))),128)),b.value.length===0?(n(),l("div",Ce,[...s[13]||(s[13]=[e("p",{class:"text-text-muted"},"Tidak ada riwayat mutasi",-1)])])):g("",!0)]),y.value>1?(n(),l("div",Me,[e("div",Ne,[e("p",Te," Menampilkan "+a((r.value-1)*i.value+1)+" - "+a(Math.min(r.value*i.value,p.value.length))+" dari "+a(p.value.length)+" data ",1),e("div",Se,[e("button",{onClick:s[2]||(s[2]=t=>r.value--),disabled:r.value===1,class:"btn-outline btn-sm"}," Previous ",8,Le),(n(!0),l(_,null,w(y.value,t=>(n(),l("button",{key:t,onClick:Ve=>r.value=t,class:v(["w-8 h-8 rounded-lg text-sm font-medium transition-colors",r.value===t?"bg-accent-primary text-white":"text-text-secondary hover:bg-slate-100"])},a(t),11,Pe))),128)),e("button",{onClick:s[3]||(s[3]=t=>r.value++),disabled:r.value===y.value,class:"btn-outline btn-sm"}," Next ",8,je)])])])):g("",!0)]))}});export{Ue as default};
