import{d as j,a as o,b as t,p as g,j as i,x as P,y as A,g as y,v as E,z as N,F as f,s as h,f as _,t as l,r as v,m as w,k as F,n as k,o as u}from"./index-BSGSa2ke.js";import{s as I,g as D,a as z,m as K}from"./order-ClBenP9t.js";import{P as Q}from"./plus-DBY9QF8J.js";import{X as R}from"./x-CjUpjK_v.js";import{E as X}from"./eye-DzVA5Nct.js";const q={class:"space-y-4"},G={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},H={class:"card p-4"},J={class:"flex flex-col lg:flex-row gap-4"},W={class:"flex-1 relative"},Y=["value"],Z={class:"card overflow-hidden"},tt={class:"table-container"},et={class:"table"},at={class:"font-mono text-sm text-text-muted"},st={class:"font-medium text-text-primary font-mono"},lt={class:"text-sm text-text-muted"},nt={class:"font-medium text-text-primary"},ot={class:"text-sm text-text-muted"},ut={class:"text-right font-medium"},rt={class:"text-sm text-text-muted"},it=["onClick"],dt={key:0},ct={key:0,class:"flex items-center justify-between px-4 py-3 border-t border-border"},mt={class:"text-sm text-text-muted"},vt={class:"flex items-center gap-2"},pt=["disabled"],bt=["onClick"],gt=["disabled"],Ct=j({__name:"OrderListPage",setup(xt){const C=F(),L=v([...K]),r=v(""),d=v(""),c=v(""),n=v(1),m=v(10),p=w(()=>L.value.filter(s=>{const a=!r.value||s.orderNumber.toLowerCase().includes(r.value.toLowerCase())||s.buyerName.toLowerCase().includes(r.value.toLowerCase()),e=!d.value||s.status===d.value,b=!c.value||s.paymentStatus===c.value;return a&&e&&b})),S=w(()=>{const s=(n.value-1)*m.value,a=s+m.value;return p.value.slice(s,a)}),x=w(()=>Math.ceil(p.value.length/m.value)),O=()=>{r.value="",d.value="",c.value=""},B=()=>{C.push({name:"order-buat"})},T=s=>{C.push({name:"order-detail",params:{id:s}})},V=s=>`$${s.toLocaleString()}`,$=s=>new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}),M=s=>{switch(D(s).color){case"gray":return"badge-neutral";case"cyan":return"badge-primary";case"amber":return"badge-warning";case"violet":return"badge-secondary";case"blue":return"badge-info";case"emerald":return"badge-success";case"red":return"badge-danger";default:return"badge-neutral"}},U=s=>{switch(s){case"unpaid":return"badge-danger";case"partial":return"badge-warning";case"paid":return"badge-success";default:return"badge-neutral"}};return(s,a)=>(u(),o("div",q,[t("div",G,[a[6]||(a[6]=t("div",null,[t("h1",{class:"text-2xl font-display font-bold text-text-primary"},"Daftar Order"),t("p",{class:"text-text-secondary mt-1"},"Kelola order penjualan ekspor")],-1)),t("button",{onClick:B,class:"btn-primary"},[g(i(Q),{class:"w-4 h-4"}),a[5]||(a[5]=P(" Buat Order ",-1))])]),t("div",H,[t("div",J,[t("div",W,[g(i(A),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),y(t("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),type:"text",placeholder:"Cari order atau buyer...",class:"input pl-10"},null,512),[[E,r.value]])]),y(t("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>d.value=e),class:"input w-full lg:w-44"},[a[7]||(a[7]=t("option",{value:""},"Semua Status",-1)),(u(!0),o(f,null,h(i(I),e=>(u(),o("option",{key:e.value,value:e.value},l(e.label),9,Y))),128))],512),[[N,d.value]]),y(t("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>c.value=e),class:"input w-full lg:w-40"},[...a[8]||(a[8]=[t("option",{value:""},"Semua Pembayaran",-1),t("option",{value:"unpaid"},"Unpaid",-1),t("option",{value:"partial"},"Partial",-1),t("option",{value:"paid"},"Paid",-1)])],512),[[N,c.value]]),r.value||d.value||c.value?(u(),o("button",{key:0,onClick:O,class:"btn-outline flex items-center gap-2"},[g(i(R),{class:"w-4 h-4"}),a[9]||(a[9]=P(" Clear ",-1))])):_("",!0)])]),t("div",Z,[t("div",tt,[t("table",et,[a[11]||(a[11]=t("thead",null,[t("tr",null,[t("th",{class:"w-16"},"No"),t("th",null,"Order"),t("th",null,"Buyer"),t("th",{class:"text-right"},"Total"),t("th",null,"Status"),t("th",null,"Pembayaran"),t("th",null,"Tanggal"),t("th",{class:"w-24"},"Aksi")])],-1)),t("tbody",null,[(u(!0),o(f,null,h(S.value,(e,b)=>(u(),o("tr",{key:e.id},[t("td",at,l((n.value-1)*m.value+b+1),1),t("td",null,[t("div",null,[t("p",st,l(e.orderNumber),1),t("p",lt,l(e.items.length)+" item(s)",1)])]),t("td",null,[t("div",null,[t("p",nt,l(e.buyerName),1),t("p",ot,l(e.buyerCountry),1)])]),t("td",ut,l(V(e.totalUsd)),1),t("td",null,[t("span",{class:k(["badge",M(e.status)])},l(i(D)(e.status).label),3)]),t("td",null,[t("span",{class:k(["badge",U(e.paymentStatus)])},l(i(z)(e.paymentStatus).label),3)]),t("td",rt,l($(e.createdAt)),1),t("td",null,[t("button",{onClick:yt=>T(e.id),class:"btn-icon btn-ghost",title:"Lihat Detail"},[g(i(X),{class:"w-4 h-4"})],8,it)])]))),128)),S.value.length===0?(u(),o("tr",dt,[...a[10]||(a[10]=[t("td",{colspan:"8",class:"text-center py-12"},[t("div",{class:"empty-state"},[t("p",{class:"text-text-muted"},"Tidak ada data order")])],-1)])])):_("",!0)])])]),x.value>1?(u(),o("div",ct,[t("p",mt," Menampilkan "+l((n.value-1)*m.value+1)+" - "+l(Math.min(n.value*m.value,p.value.length))+" dari "+l(p.value.length)+" data ",1),t("div",vt,[t("button",{onClick:a[3]||(a[3]=e=>n.value--),disabled:n.value===1,class:"btn-outline btn-sm"}," Previous ",8,pt),(u(!0),o(f,null,h(x.value,e=>(u(),o("button",{key:e,onClick:b=>n.value=e,class:k(["w-8 h-8 rounded-lg text-sm font-medium transition-colors",n.value===e?"bg-accent-primary text-white":"text-text-secondary hover:bg-slate-100"])},l(e),11,bt))),128)),t("button",{onClick:a[4]||(a[4]=e=>n.value++),disabled:n.value===x.value,class:"btn-outline btn-sm"}," Next ",8,gt)])])):_("",!0)])]))}});export{Ct as default};
