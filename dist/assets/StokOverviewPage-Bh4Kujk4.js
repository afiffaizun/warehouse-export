import{c as j,d as z,a as l,b as t,p as r,j as d,x as u,P as A,t as o,I as B,F as i,s as f,f as w,y as U,g as y,v as G,z as R,J as D,r as m,m as x,k as F,K,n as O,o as n}from"./index-BSGSa2ke.js";import{w as S,g as W,m as E}from"./stok-o4hf6QBl.js";import{P as J}from"./plus-DBY9QF8J.js";import{T as Q,a as C}from"./triangle-alert-D6KvEtvk.js";const $=j("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),H={class:"space-y-6"},X={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Y={class:"flex gap-2"},Z={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},tt={class:"card p-5"},et={class:"flex items-center gap-4"},st={class:"p-3 rounded-xl bg-cyan-100 text-cyan-600"},ot={class:"text-2xl font-bold text-text-primary"},at={class:"card p-5"},lt={class:"flex items-center gap-4"},nt={class:"p-3 rounded-xl bg-violet-100 text-violet-600"},dt={class:"text-2xl font-bold text-text-primary"},rt={class:"card p-5"},it={class:"flex items-center gap-4"},ct={class:"p-3 rounded-xl bg-amber-100 text-amber-600"},ut={class:"text-2xl font-bold text-text-primary"},xt={class:"card p-5"},pt={class:"flex items-center gap-4"},mt={class:"p-3 rounded-xl bg-red-100 text-red-600"},ht={class:"text-2xl font-bold text-text-primary"},gt={key:0,class:"card p-4 border-l-4 border-l-red-500"},vt={class:"flex items-center gap-2 mb-3"},_t={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},kt={class:"font-medium text-text-primary text-sm"},ft={class:"text-xs text-text-muted"},yt={class:"flex justify-between mt-2"},bt={class:"text-xs text-text-muted"},wt={class:"text-xs text-text-muted"},St={class:"w-full bg-red-200 rounded-full h-1.5 mt-2"},Ct={class:"card p-4"},Mt={class:"flex flex-col lg:flex-row gap-4"},Pt={class:"flex-1 relative"},Tt=["value"],Lt={class:"flex items-center gap-2 cursor-pointer"},Nt={class:"card overflow-hidden"},qt={class:"table-container"},It={class:"table"},Vt={class:"font-medium text-text-primary"},jt={class:"text-sm text-text-muted font-mono"},zt={class:"badge badge-neutral"},At={class:"text-right font-medium"},Bt={class:"text-center text-text-muted"},Ut={class:"text-center text-text-muted"},Gt={key:0},Wt=z({__name:"StokOverviewPage",setup(Rt){const h=F(),g=m([...E]),c=m(""),p=m(""),v=m(!1),_=x(()=>W()),M=x(()=>g.value.reduce((a,e)=>a+e.quantity,0)),P=x(()=>g.value.length),T=x(()=>_.value.length),b=x(()=>g.value.filter(a=>{const e=!c.value||a.productName.toLowerCase().includes(c.value.toLowerCase())||a.productSku.toLowerCase().includes(c.value.toLowerCase()),s=!p.value||a.warehouseId===p.value,V=!v.value||a.quantity<=a.minStock;return e&&s&&V})),k=a=>a.quantity<=a.minStock?"low":a.quantity>=a.maxStock?"high":"normal",L=a=>{switch(a){case"low":return"text-red-600 bg-red-50";case"high":return"text-emerald-600 bg-emerald-50";default:return"text-amber-600 bg-amber-50"}},N=()=>{h.push({name:"stok-penerimaan"})},q=()=>{h.push({name:"stok-pengeluaran"})},I=()=>{h.push({name:"stok-mutasi"})};return(a,e)=>(n(),l("div",H,[t("div",X,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-2xl font-display font-bold text-text-primary"},"Stok Inventori"),t("p",{class:"text-text-secondary mt-1"},"Kelola stock barang di setiap gudang")],-1)),t("div",Y,[t("button",{onClick:N,class:"btn-primary"},[r(d(J),{class:"w-4 h-4"}),e[3]||(e[3]=u(" Penerimaan ",-1))]),t("button",{onClick:q,class:"btn-secondary"},[r(d($),{class:"w-4 h-4"}),e[4]||(e[4]=u(" Pengeluaran ",-1))])])]),t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[r(d(A),{class:"w-6 h-6"})]),t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm text-text-muted"},"Total Item",-1)),t("p",ot,o(P.value),1)])])]),t("div",at,[t("div",lt,[t("div",nt,[r(d(B),{class:"w-6 h-6"})]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-text-muted"},"Total Stok",-1)),t("p",dt,o(M.value.toLocaleString()),1)])])]),t("div",rt,[t("div",it,[t("div",ct,[r(d(Q),{class:"w-6 h-6"})]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm text-text-muted"},"Gudang",-1)),t("p",ut,o(d(S).length),1)])])]),t("div",xt,[t("div",pt,[t("div",mt,[r(d(C),{class:"w-6 h-6"})]),t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm text-text-muted"},"Stok Menipis",-1)),t("p",ht,o(T.value),1)])])])]),_.value.length>0?(n(),l("div",gt,[t("div",vt,[r(d(C),{class:"w-5 h-5 text-red-600"}),e[10]||(e[10]=t("h3",{class:"font-semibold text-text-primary"},"Peringatan Stok Menipis",-1))]),t("div",_t,[(n(!0),l(i,null,f(_.value,s=>(n(),l("div",{key:s.id,class:"p-3 bg-red-50 rounded-lg"},[t("p",kt,o(s.productName),1),t("p",ft,o(s.productSku),1),t("div",yt,[t("span",bt,"Tersedia: "+o(s.quantity)+" "+o(s.unit),1),t("span",wt,"Min: "+o(s.minStock),1)]),t("div",St,[t("div",{class:"bg-red-500 h-1.5 rounded-full",style:K({width:`${Math.min(s.quantity/s.minStock*100,100)}%`})},null,4)])]))),128))])])):w("",!0),t("div",Ct,[t("div",Mt,[t("div",Pt,[r(d(U),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),type:"text",placeholder:"Cari produk...",class:"input pl-10"},null,512),[[G,c.value]])]),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>p.value=s),class:"input w-full lg:w-48"},[e[11]||(e[11]=t("option",{value:""},"Semua Gudang",-1)),(n(!0),l(i,null,f(d(S),s=>(n(),l("option",{key:s.id,value:s.id},o(s.name),9,Tt))),128))],512),[[R,p.value]]),t("label",Lt,[y(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=s=>v.value=s),class:"checkbox"},null,512),[[D,v.value]]),e[12]||(e[12]=t("span",{class:"text-sm text-text-secondary"},"Stok menipis saja",-1))]),t("button",{onClick:I,class:"btn-outline"}," Riwayat Mutasi ")])]),t("div",Nt,[t("div",qt,[t("table",It,[e[14]||(e[14]=t("thead",null,[t("tr",null,[t("th",null,"Produk"),t("th",null,"Gudang"),t("th",{class:"text-right"},"Stok"),t("th",{class:"text-center"},"Min"),t("th",{class:"text-center"},"Max"),t("th",null,"Status")])],-1)),t("tbody",null,[(n(!0),l(i,null,f(b.value,s=>(n(),l("tr",{key:s.id},[t("td",null,[t("div",null,[t("p",Vt,o(s.productName),1),t("p",jt,o(s.productSku),1)])]),t("td",null,[t("span",zt,o(s.warehouseName),1)]),t("td",At,o(s.quantity.toLocaleString())+" "+o(s.unit),1),t("td",Bt,o(s.minStock),1),t("td",Ut,o(s.maxStock),1),t("td",null,[t("span",{class:O(["badge",L(k(s))])},[k(s)==="low"?(n(),l(i,{key:0},[u("Menipis")],64)):k(s)==="high"?(n(),l(i,{key:1},[u("Melimpah")],64)):(n(),l(i,{key:2},[u("Normal")],64))],2)])]))),128)),b.value.length===0?(n(),l("tr",Gt,[...e[13]||(e[13]=[t("td",{colspan:"6",class:"text-center py-12"},[t("p",{class:"text-text-muted"},"Tidak ada data stok")],-1)])])):w("",!0)])])])])]))}});export{Wt as default};
