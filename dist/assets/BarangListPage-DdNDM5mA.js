import{c as j,d as A,a as n,b as t,p as g,j as i,x as f,y as R,g as D,v as F,z as U,F as y,s as _,f as k,t as l,w as z,r,m as P,k as q,n as B,o}from"./index-0s2AtYEJ.js";import{c as G,s as Q,g as X,a as L,m as J}from"./barang-CFxOeyqE.js";import{X as O}from"./x-nDelaJx0.js";import{E as W}from"./eye-CJ9JyOhs.js";import{S as Y,T as Z}from"./trash-2-kr2Ik7fR.js";const tt=j("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),et={class:"space-y-4"},st={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},at={class:"card p-4"},lt={class:"flex flex-col lg:flex-row gap-4"},nt={class:"flex-1 relative"},ot=["value"],it=["value"],ut={class:"card overflow-hidden"},rt={class:"table-container"},dt={class:"table"},ct={class:"font-mono text-sm text-text-muted"},vt={class:"w-12 h-12 rounded-lg overflow-hidden bg-slate-100"},mt=["src","alt"],gt={class:"font-medium text-text-primary"},bt={class:"text-sm text-text-muted font-mono"},ht={class:"badge badge-neutral"},pt={class:"text-right font-medium"},xt={class:"text-right font-medium"},ft={class:"flex items-center gap-1"},yt=["onClick"],_t=["onClick"],kt=["onClick"],wt={key:0},Ct={key:0,class:"flex items-center justify-between px-4 py-3 border-t border-border"},St={class:"text-sm text-text-muted"},Dt={class:"flex items-center gap-2"},Pt=["disabled"],Lt={class:"flex gap-1"},Tt=["onClick"],$t=["disabled"],Mt={class:"modal-content max-w-sm"},Ut={class:"modal-body"},Bt={class:"text-text-secondary"},Nt={class:"text-text-primary"},Vt={class:"modal-footer"},Rt=A({__name:"BarangListPage",setup(Kt){const w=q(),C=r([...J]),d=r(""),c=r(""),v=r(""),b=r(!1),h=r(null),u=r(1),m=r(10),p=P(()=>C.value.filter(a=>{const e=!d.value||a.name.toLowerCase().includes(d.value.toLowerCase())||a.sku.toLowerCase().includes(d.value.toLowerCase()),s=!c.value||a.category===c.value,x=!v.value||a.status===v.value;return e&&s&&x})),T=P(()=>{const a=(u.value-1)*m.value,e=a+m.value;return p.value.slice(a,e)}),S=P(()=>Math.ceil(p.value.length/m.value)),N=()=>{d.value="",c.value="",v.value=""},V=()=>{w.push({name:"barang-tambah"})},K=a=>{w.push({name:"barang-edit",params:{id:a}})},E=a=>{w.push({name:"barang-detail",params:{id:a}})},H=a=>{h.value=a,b.value=!0},I=()=>{h.value&&(C.value=C.value.filter(a=>a.id!==h.value?.id),b.value=!1,h.value=null)},$=(a,e="IDR")=>e==="USD"?`$${a.toLocaleString()}`:`Rp ${a.toLocaleString()}`;return(a,e)=>(o(),n("div",et,[t("div",st,[e[8]||(e[8]=t("div",null,[t("h1",{class:"text-2xl font-display font-bold text-text-primary"},"Daftar Barang"),t("p",{class:"text-text-secondary mt-1"},"Kelola data produk ekspor")],-1)),t("button",{onClick:V,class:"btn-primary"},[g(i(tt),{class:"w-4 h-4"}),e[7]||(e[7]=f(" Tambah Barang ",-1))])]),t("div",at,[t("div",lt,[t("div",nt,[g(i(R),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),D(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),type:"text",placeholder:"Cari nama atau SKU...",class:"input pl-10"},null,512),[[F,d.value]])]),D(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),class:"input w-full lg:w-48"},[e[9]||(e[9]=t("option",{value:""},"Semua Kategori",-1)),(o(!0),n(y,null,_(i(G),s=>(o(),n("option",{key:s.value,value:s.value},l(s.label),9,ot))),128))],512),[[U,c.value]]),D(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>v.value=s),class:"input w-full lg:w-40"},[e[10]||(e[10]=t("option",{value:""},"Semua Status",-1)),(o(!0),n(y,null,_(i(Q),s=>(o(),n("option",{key:s.value,value:s.value},l(s.label),9,it))),128))],512),[[U,v.value]]),d.value||c.value||v.value?(o(),n("button",{key:0,onClick:N,class:"btn-outline flex items-center gap-2"},[g(i(O),{class:"w-4 h-4"}),e[11]||(e[11]=f(" Clear ",-1))])):k("",!0)])]),t("div",ut,[t("div",rt,[t("table",dt,[e[13]||(e[13]=t("thead",null,[t("tr",null,[t("th",{class:"w-16"},"No"),t("th",{class:"w-24"},"Gambar"),t("th",null,"Nama / SKU"),t("th",null,"Kategori"),t("th",{class:"text-right"},"Harga (IDR)"),t("th",{class:"text-right"},"Harga (USD)"),t("th",null,"Status"),t("th",{class:"w-32"},"Aksi")])],-1)),t("tbody",null,[(o(!0),n(y,null,_(T.value,(s,x)=>(o(),n("tr",{key:s.id},[t("td",ct,l((u.value-1)*m.value+x+1),1),t("td",null,[t("div",vt,[t("img",{src:s.images[0]?.url,alt:s.name,class:"w-full h-full object-cover"},null,8,mt)])]),t("td",null,[t("div",null,[t("p",gt,l(s.name),1),t("p",bt,l(s.sku),1)])]),t("td",null,[t("span",ht,l(i(X)(s.category)),1)]),t("td",pt,l($(s.priceIdr)),1),t("td",xt,l($(s.priceUsd,"USD")),1),t("td",null,[t("span",{class:B(["badge",i(L)(s.status).color==="success"?"badge-success":i(L)(s.status).color==="danger"?"badge-danger":"badge-secondary"])},l(i(L)(s.status).label),3)]),t("td",null,[t("div",ft,[t("button",{onClick:M=>E(s.id),class:"btn-icon btn-ghost",title:"Lihat"},[g(i(W),{class:"w-4 h-4"})],8,yt),t("button",{onClick:M=>K(s.id),class:"btn-icon btn-ghost",title:"Edit"},[g(i(Y),{class:"w-4 h-4"})],8,_t),t("button",{onClick:M=>H(s),class:"btn-icon btn-ghost text-accent-danger hover:bg-red-50",title:"Hapus"},[g(i(Z),{class:"w-4 h-4"})],8,kt)])])]))),128)),T.value.length===0?(o(),n("tr",wt,[...e[12]||(e[12]=[t("td",{colspan:"8",class:"text-center py-12"},[t("div",{class:"empty-state"},[t("p",{class:"text-text-muted"},"Tidak ada data barang")])],-1)])])):k("",!0)])])]),S.value>1?(o(),n("div",Ct,[t("p",St," Menampilkan "+l((u.value-1)*m.value+1)+" - "+l(Math.min(u.value*m.value,p.value.length))+" dari "+l(p.value.length)+" data ",1),t("div",Dt,[t("button",{onClick:e[3]||(e[3]=s=>u.value--),disabled:u.value===1,class:"btn-outline btn-sm"}," Previous ",8,Pt),t("div",Lt,[(o(!0),n(y,null,_(S.value,s=>(o(),n("button",{key:s,onClick:x=>u.value=s,class:B(["w-8 h-8 rounded-lg text-sm font-medium transition-colors",u.value===s?"bg-accent-primary text-white":"text-text-secondary hover:bg-slate-100"])},l(s),11,Tt))),128))]),t("button",{onClick:e[4]||(e[4]=s=>u.value++),disabled:u.value===S.value,class:"btn-outline btn-sm"}," Next ",8,$t)])])):k("",!0)]),b.value?(o(),n("div",{key:0,class:"modal-overlay",onClick:e[6]||(e[6]=z(s=>b.value=!1,["self"]))},[t("div",Mt,[e[17]||(e[17]=t("div",{class:"modal-header"},[t("h3",{class:"font-semibold text-lg"},"Konfirmasi Hapus")],-1)),t("div",Ut,[t("p",Bt,[e[14]||(e[14]=f(" Apakah Anda yakin ingin menghapus barang ",-1)),t("strong",Nt,l(h.value?.name),1),e[15]||(e[15]=f("? ",-1))]),e[16]||(e[16]=t("p",{class:"text-sm text-text-muted mt-2"},"Tindakan ini tidak dapat dibatalkan.",-1))]),t("div",Vt,[t("button",{onClick:e[5]||(e[5]=s=>b.value=!1),class:"btn-outline"}," Batal "),t("button",{onClick:I,class:"btn-danger"}," Hapus ")])])])):k("",!0)]))}});export{Rt as default};
