import{d as R,a as n,b as t,p as i,j as o,x as D,H as $,t as a,y as A,g as w,v as E,z as T,F as _,s as f,f as C,r as p,m as x,n as k,k as O,o as r}from"./index-BSGSa2ke.js";import{i as z,p as H,m as J,g as L,a as B,b as K,c as Q}from"./keuangan-B4ywQouM.js";import{P as X}from"./plus-DBY9QF8J.js";import{C as q}from"./circle-check-big-DKww0oDc.js";import{C as G}from"./circle-alert-C9iTh7C8.js";import{X as W}from"./x-CjUpjK_v.js";import{E as Y}from"./eye-DzVA5Nct.js";const Z={class:"space-y-4"},tt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},et={class:"btn-primary"},st={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},at={class:"card p-4"},lt={class:"flex items-center gap-3"},ot={class:"w-10 h-10 rounded-lg bg-accent-primary/10 flex items-center justify-center"},nt={class:"text-xl font-bold text-text-primary"},rt={class:"card p-4"},ut={class:"flex items-center gap-3"},dt={class:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center"},it={class:"text-xl font-bold text-emerald-600"},ct={class:"card p-4"},mt={class:"flex items-center gap-3"},vt={class:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center"},pt={class:"text-xl font-bold text-red-600"},xt={class:"card p-4"},bt={class:"flex flex-col lg:flex-row gap-4"},ht={class:"flex-1 relative"},_t=["value"],ft=["value"],gt={class:"card overflow-hidden"},yt={class:"table-container"},wt={class:"table"},Ct={class:"font-mono text-sm text-text-muted"},kt={class:"font-medium text-text-primary font-mono"},St={class:"text-sm text-text-muted"},Pt={class:"font-mono text-sm"},It={class:"font-medium text-text-primary"},Nt={class:"text-sm text-text-muted"},Dt={class:"text-sm"},Tt={class:"text-sm"},Lt={class:"font-medium"},Bt=["onClick"],Vt={key:0},jt={key:0,class:"flex items-center justify-between px-4 py-3 border-t border-border"},Ft={class:"text-sm text-text-muted"},Mt={class:"flex items-center gap-2"},Ut=["disabled"],Rt={class:"flex gap-1"},$t=["onClick"],At=["disabled"],Gt=R({__name:"InvoiceListPage",setup(Et){const V=O(),S=p([...J]),d=p(""),c=p(""),m=p(""),u=p(1),v=p(10),j=x(()=>K()),F=x(()=>Q()),b=x(()=>S.value.filter(l=>{const s=!d.value||l.invoiceNumber.toLowerCase().includes(d.value.toLowerCase())||l.orderNumber.toLowerCase().includes(d.value.toLowerCase())||l.buyerName.toLowerCase().includes(d.value.toLowerCase()),e=!c.value||l.status===c.value,h=!m.value||l.paymentStatus===m.value;return s&&e&&h})),P=x(()=>{const l=(u.value-1)*v.value,s=l+v.value;return b.value.slice(l,s)}),g=x(()=>Math.ceil(b.value.length/v.value)),M=()=>{d.value="",c.value="",m.value=""},U=l=>{V.push({name:"keuangan-invoice-detail",params:{id:l}})},I=l=>new Date(l).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}),y=(l,s="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:s}).format(l),N=l=>{switch(l){case"gray":return"badge-neutral";case"blue":return"badge-primary";case"emerald":return"badge-success";case"red":return"badge-danger";case"slate":return"badge-neutral";default:return"badge-neutral"}};return(l,s)=>(r(),n("div",Z,[t("div",tt,[s[6]||(s[6]=t("div",null,[t("h1",{class:"text-2xl font-display font-bold text-text-primary"},"Daftar Invoice"),t("p",{class:"text-text-secondary mt-1"},"Kelola invoice dan pembayaran ekspor")],-1)),t("button",et,[i(o(X),{class:"w-4 h-4"}),s[5]||(s[5]=D(" Buat Invoice ",-1))])]),t("div",st,[t("div",at,[t("div",lt,[t("div",ot,[i(o($),{class:"w-5 h-5 text-accent-primary"})]),t("div",null,[s[7]||(s[7]=t("p",{class:"text-sm text-text-muted"},"Total Invoice",-1)),t("p",nt,a(S.value.length),1)])])]),t("div",rt,[t("div",ut,[t("div",dt,[i(o(q),{class:"w-5 h-5 text-emerald-600"})]),t("div",null,[s[8]||(s[8]=t("p",{class:"text-sm text-text-muted"},"Total Paid",-1)),t("p",it,a(y(F.value)),1)])])]),t("div",ct,[t("div",mt,[t("div",vt,[i(o(G),{class:"w-5 h-5 text-red-600"})]),t("div",null,[s[9]||(s[9]=t("p",{class:"text-sm text-text-muted"},"Receivable",-1)),t("p",pt,a(y(j.value)),1)])])])]),t("div",xt,[t("div",bt,[t("div",ht,[i(o(A),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),w(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),type:"text",placeholder:"Cari invoice atau order...",class:"input pl-10"},null,512),[[E,d.value]])]),w(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>c.value=e),class:"input w-full lg:w-44"},[s[10]||(s[10]=t("option",{value:""},"Semua Status",-1)),(r(!0),n(_,null,f(o(z),e=>(r(),n("option",{key:e.value,value:e.value},a(e.label),9,_t))),128))],512),[[T,c.value]]),w(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>m.value=e),class:"input w-full lg:w-44"},[s[11]||(s[11]=t("option",{value:""},"Semua Pembayaran",-1)),(r(!0),n(_,null,f(o(H),e=>(r(),n("option",{key:e.value,value:e.value},a(e.label),9,ft))),128))],512),[[T,m.value]]),d.value||c.value||m.value?(r(),n("button",{key:0,onClick:M,class:"btn-outline flex items-center gap-2"},[i(o(W),{class:"w-4 h-4"}),s[12]||(s[12]=D(" Clear ",-1))])):C("",!0)])]),t("div",gt,[t("div",yt,[t("table",wt,[s[14]||(s[14]=t("thead",null,[t("tr",null,[t("th",{class:"w-16"},"No"),t("th",null,"Invoice"),t("th",null,"Order"),t("th",null,"Buyer"),t("th",null,"Tgl Invoice"),t("th",null,"Jatuh Tempo"),t("th",null,"Total"),t("th",null,"Status"),t("th",null,"Pembayaran"),t("th",{class:"w-24"},"Aksi")])],-1)),t("tbody",null,[(r(!0),n(_,null,f(P.value,(e,h)=>(r(),n("tr",{key:e.id},[t("td",Ct,a((u.value-1)*v.value+h+1),1),t("td",null,[t("div",null,[t("p",kt,a(e.invoiceNumber),1),t("p",St,a(e.currency),1)])]),t("td",null,[t("span",Pt,a(e.orderNumber),1)]),t("td",null,[t("div",null,[t("p",It,a(e.buyerName),1),t("p",Nt,a(e.buyerAddress.split(",")[0]),1)])]),t("td",Dt,a(I(e.issueDate)),1),t("td",Tt,a(I(e.dueDate)),1),t("td",Lt,a(y(e.total)),1),t("td",null,[t("span",{class:k(["badge",N(o(L)(e.status).color)])},a(o(L)(e.status).label),3)]),t("td",null,[t("span",{class:k(["badge",N(o(B)(e.paymentStatus).color)])},a(o(B)(e.paymentStatus).label),3)]),t("td",null,[t("button",{onClick:Ot=>U(e.id),class:"btn-icon btn-ghost",title:"Lihat Detail"},[i(o(Y),{class:"w-4 h-4"})],8,Bt)])]))),128)),P.value.length===0?(r(),n("tr",Vt,[...s[13]||(s[13]=[t("td",{colspan:"10",class:"text-center py-12"},[t("div",{class:"empty-state"},[t("p",{class:"text-text-muted"},"Tidak ada data invoice")])],-1)])])):C("",!0)])])]),g.value>1?(r(),n("div",jt,[t("p",Ft," Menampilkan "+a((u.value-1)*v.value+1)+" - "+a(Math.min(u.value*v.value,b.value.length))+" dari "+a(b.value.length)+" data ",1),t("div",Mt,[t("button",{onClick:s[3]||(s[3]=e=>u.value--),disabled:u.value===1,class:"btn-outline btn-sm"}," Previous ",8,Ut),t("div",Rt,[(r(!0),n(_,null,f(g.value,e=>(r(),n("button",{key:e,onClick:h=>u.value=e,class:k(["w-8 h-8 rounded-lg text-sm font-medium transition-colors",u.value===e?"bg-accent-primary text-white":"text-text-secondary hover:bg-slate-100"])},a(e),11,$t))),128))]),t("button",{onClick:s[4]||(s[4]=e=>u.value++),disabled:u.value===g.value,class:"btn-outline btn-sm"}," Next ",8,At)])])):C("",!0)])]))}});export{Gt as default};
