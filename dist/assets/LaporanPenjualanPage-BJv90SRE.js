import{d as B,a as i,b as t,p as o,j as n,x as h,P as E,t as a,y as F,g,v as _,z as A,F as w,s as C,f as D,r as x,m as f,n as I,k as R,o as u}from"./index-BSGSa2ke.js";import{s as z,g as k,m as M}from"./order-ClBenP9t.js";import{P as Q,D as X}from"./printer-_nq0GVKs.js";import{D as $}from"./dollar-sign-53zZclG4.js";import{C as q}from"./clock-Bah-Yd_X.js";import{C as G}from"./circle-check-big-DKww0oDc.js";import{X as H}from"./x-CjUpjK_v.js";import{E as J}from"./eye-DzVA5Nct.js";const K={class:"space-y-4"},W={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Y={class:"flex items-center gap-2"},Z={class:"btn-outline"},tt={class:"btn-primary"},et={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},st={class:"card p-4"},lt={class:"flex items-center gap-3"},at={class:"w-10 h-10 rounded-lg bg-accent-primary/10 flex items-center justify-center"},nt={class:"text-xl font-bold text-text-primary"},ot={class:"card p-4"},rt={class:"flex items-center gap-3"},dt={class:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center"},it={class:"text-xl font-bold text-emerald-600"},ut={class:"card p-4"},ct={class:"flex items-center gap-3"},mt={class:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center"},pt={class:"text-xl font-bold text-amber-600"},vt={class:"card p-4"},xt={class:"flex items-center gap-3"},ft={class:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center"},gt={class:"text-xl font-bold text-blue-600"},ht={class:"card p-4"},_t={class:"flex flex-col lg:flex-row gap-4"},bt={class:"flex-1 relative"},yt=["value"],wt={class:"card overflow-hidden"},Ct={class:"table-container"},Dt={class:"table"},kt={class:"font-mono text-sm text-text-muted"},St={class:"font-medium font-mono text-text-primary"},Nt={class:"font-medium text-text-primary"},Ot={class:"text-sm"},Tt={class:"text-sm"},jt={class:"text-sm"},Lt={class:"font-medium"},Pt=["onClick"],Ut={key:0},Xt=B({__name:"LaporanPenjualanPage",setup(Vt){const S=R(),v=x([...M]),r=x(""),c=x(""),m=x(""),p=x(""),b=f(()=>v.value.filter(l=>{const e=!r.value||l.orderNumber.toLowerCase().includes(r.value.toLowerCase())||l.buyerName.toLowerCase().includes(r.value.toLowerCase()),s=!c.value||l.status===c.value;let d=!0;return m.value&&(d=d&&new Date(l.createdAt)>=new Date(m.value)),p.value&&(d=d&&new Date(l.createdAt)<=new Date(p.value)),e&&s&&d})),N=f(()=>v.value.length),O=f(()=>v.value.filter(l=>l.status==="completed").reduce((l,e)=>l+e.totalUsd,0)),T=f(()=>v.value.filter(l=>l.status==="draft"||l.status==="confirmed").length),j=f(()=>v.value.filter(l=>l.status==="completed").length),L=()=>{r.value="",c.value="",m.value="",p.value=""},P=l=>{S.push({name:"order-detail",params:{id:l}})},U=l=>new Date(l).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}),y=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l),V=l=>{switch(k(l).color){case"gray":return"badge-neutral";case"blue":return"badge-primary";case"emerald":return"badge-success";case"amber":return"badge-warning";case"red":return"badge-danger";default:return"badge-neutral"}};return(l,e)=>(u(),i("div",K,[t("div",W,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-2xl font-display font-bold text-text-primary"},"Laporan Penjualan"),t("p",{class:"text-text-secondary mt-1"},"Ringkasan dan analisis penjualan ekspor")],-1)),t("div",Y,[t("button",Z,[o(n(Q),{class:"w-4 h-4"}),e[4]||(e[4]=h(" Print ",-1))]),t("button",tt,[o(n(X),{class:"w-4 h-4"}),e[5]||(e[5]=h(" Export ",-1))])])]),t("div",et,[t("div",st,[t("div",lt,[t("div",at,[o(n(E),{class:"w-5 h-5 text-accent-primary"})]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-text-muted"},"Total Orders",-1)),t("p",nt,a(N.value),1)])])]),t("div",ot,[t("div",rt,[t("div",dt,[o(n($),{class:"w-5 h-5 text-emerald-600"})]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm text-text-muted"},"Total Revenue",-1)),t("p",it,a(y(O.value)),1)])])]),t("div",ut,[t("div",ct,[t("div",mt,[o(n(q),{class:"w-5 h-5 text-amber-600"})]),t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm text-text-muted"},"Pending Orders",-1)),t("p",pt,a(T.value),1)])])]),t("div",vt,[t("div",xt,[t("div",ft,[o(n(G),{class:"w-5 h-5 text-blue-600"})]),t("div",null,[e[10]||(e[10]=t("p",{class:"text-sm text-text-muted"},"Completed",-1)),t("p",gt,a(j.value),1)])])])]),t("div",ht,[t("div",_t,[t("div",bt,[o(n(F),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),type:"text",placeholder:"Cari order...",class:"input pl-10"},null,512),[[_,r.value]])]),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),class:"input w-full lg:w-44"},[e[11]||(e[11]=t("option",{value:""},"Semua Status",-1)),(u(!0),i(w,null,C(n(z),s=>(u(),i("option",{key:s.value,value:s.value},a(s.label),9,yt))),128))],512),[[A,c.value]]),g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>m.value=s),type:"date",class:"input w-full lg:w-40",placeholder:"Dari tanggal"},null,512),[[_,m.value]]),g(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>p.value=s),type:"date",class:"input w-full lg:w-40",placeholder:"Sampai tanggal"},null,512),[[_,p.value]]),r.value||c.value||m.value||p.value?(u(),i("button",{key:0,onClick:L,class:"btn-outline flex items-center gap-2"},[o(n(H),{class:"w-4 h-4"}),e[12]||(e[12]=h(" Clear ",-1))])):D("",!0)])]),t("div",wt,[t("div",Ct,[t("table",Dt,[e[14]||(e[14]=t("thead",null,[t("tr",null,[t("th",{class:"w-16"},"No"),t("th",null,"Order"),t("th",null,"Buyer"),t("th",null,"Tanggal Order"),t("th",null,"ETD"),t("th",null,"Items"),t("th",null,"Total"),t("th",null,"Status"),t("th",{class:"w-24"},"Aksi")])],-1)),t("tbody",null,[(u(!0),i(w,null,C(b.value,(s,d)=>(u(),i("tr",{key:s.id},[t("td",kt,a(d+1),1),t("td",null,[t("span",St,a(s.orderNumber),1)]),t("td",null,[t("p",Nt,a(s.buyerName),1)]),t("td",Ot,a(U(s.createdAt)),1),t("td",Tt,a(s.incoterms.toUpperCase()),1),t("td",jt,a(s.items.length)+" items",1),t("td",Lt,a(y(s.totalUsd)),1),t("td",null,[t("span",{class:I(["badge",V(s.status)])},a(n(k)(s.status).label),3)]),t("td",null,[t("button",{onClick:Bt=>P(s.id),class:"btn-icon btn-ghost",title:"Lihat Detail"},[o(n(J),{class:"w-4 h-4"})],8,Pt)])]))),128)),b.value.length===0?(u(),i("tr",Ut,[...e[13]||(e[13]=[t("td",{colspan:"9",class:"text-center py-12"},[t("div",{class:"empty-state"},[t("p",{class:"text-text-muted"},"Tidak ada data order")])],-1)])])):D("",!0)])])])])]))}});export{Xt as default};
