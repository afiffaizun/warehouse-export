import{d as z,r as x,a as n,b as t,p as r,j as o,x as b,J as E,t as l,O as J,z as K,g as _,v as w,A as I,F as S,s as D,X as M,f as L,m as f,n as C,o as u}from"./index-CUmndf2P.js";import{m as Q,i as X,p as q,g as T,a as V}from"./keuangan-B4ywQouM.js";import{P as G,D as H}from"./printer-D6xy81W6.js";import{D as W}from"./dollar-sign-CAIDqR2b.js";import{C as Y}from"./clock-2-xbkcPU.js";import{C as Z}from"./circle-alert-CawrSRCg.js";const $={class:"space-y-4"},tt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},et={class:"flex items-center gap-2"},st={class:"btn-outline"},at={class:"btn-primary"},lt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},ot={class:"card p-4"},nt={class:"flex items-center gap-3"},rt={class:"w-10 h-10 rounded-lg bg-accent-primary/10 flex items-center justify-center"},ut={class:"text-xl font-bold text-text-primary"},dt={class:"card p-4"},it={class:"flex items-center gap-3"},ct={class:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center"},mt={class:"text-xl font-bold text-blue-600"},pt={class:"card p-4"},vt={class:"flex items-center gap-3"},xt={class:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center"},ft={class:"text-xl font-bold text-emerald-600"},gt={class:"card p-4"},ht={class:"flex items-center gap-3"},_t={class:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center"},yt={class:"text-xl font-bold text-amber-600"},bt={class:"card p-4"},wt={class:"flex items-center gap-3"},St={class:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center"},Dt={class:"text-xl font-bold text-red-600"},Ct={class:"card p-4"},kt={class:"flex flex-col lg:flex-row gap-4"},Nt={class:"flex-1 relative"},Pt=["value"],It=["value"],Lt={class:"card overflow-hidden"},Tt={class:"table-container"},Vt={class:"table"},jt={class:"font-mono text-sm text-text-muted"},Ut={class:"font-medium font-mono text-text-primary"},At={class:"font-mono text-sm"},Bt={class:"font-medium text-text-primary"},Ft={class:"text-sm"},Ot={class:"text-right font-medium"},Rt={class:"text-right text-emerald-600"},zt={key:0},Gt=z({__name:"LaporanKeuanganPage",setup(Et){const i=x([...Q]),d=x(""),c=x(""),m=x(""),p=x(""),v=x(""),k=f(()=>i.value.filter(a=>{const e=!d.value||a.invoiceNumber.toLowerCase().includes(d.value.toLowerCase())||a.orderNumber.toLowerCase().includes(d.value.toLowerCase())||a.buyerName.toLowerCase().includes(d.value.toLowerCase()),s=!c.value||a.status===c.value,y=!m.value||a.paymentStatus===m.value;let h=!0;return p.value&&(h=h&&new Date(a.issueDate)>=new Date(p.value)),v.value&&(h=h&&new Date(a.issueDate)<=new Date(v.value)),e&&s&&y&&h})),j=f(()=>i.value.length),U=f(()=>i.value.reduce((a,e)=>a+e.total,0)),A=f(()=>i.value.filter(a=>a.paymentStatus==="paid").reduce((a,e)=>a+e.total,0)),B=f(()=>i.value.filter(a=>a.paymentStatus!=="paid").reduce((a,e)=>a+(e.total-e.paidAmount),0)),F=f(()=>i.value.filter(a=>new Date(a.dueDate)<new Date&&a.paymentStatus!=="paid").length),O=()=>{d.value="",c.value="",m.value="",p.value="",v.value=""},N=a=>new Date(a).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}),g=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a),P=a=>{switch(a){case"gray":return"badge-neutral";case"blue":return"badge-primary";case"emerald":return"badge-success";case"red":return"badge-danger";default:return"badge-neutral"}},R=(a,e)=>new Date(a)<new Date&&e!=="paid";return(a,e)=>(u(),n("div",$,[t("div",tt,[e[7]||(e[7]=t("div",null,[t("h1",{class:"text-2xl font-display font-bold text-text-primary"},"Laporan Keuangan"),t("p",{class:"text-text-secondary mt-1"},"Ringkasan dan analisis keuangan ekspor")],-1)),t("div",et,[t("button",st,[r(o(G),{class:"w-4 h-4"}),e[5]||(e[5]=b(" Print ",-1))]),t("button",at,[r(o(H),{class:"w-4 h-4"}),e[6]||(e[6]=b(" Export ",-1))])])]),t("div",lt,[t("div",ot,[t("div",nt,[t("div",rt,[r(o(E),{class:"w-5 h-5 text-accent-primary"})]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm text-text-muted"},"Total Invoices",-1)),t("p",ut,l(j.value),1)])])]),t("div",dt,[t("div",it,[t("div",ct,[r(o(W),{class:"w-5 h-5 text-blue-600"})]),t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm text-text-muted"},"Total Amount",-1)),t("p",mt,l(g(U.value)),1)])])]),t("div",pt,[t("div",vt,[t("div",xt,[r(o(J),{class:"w-5 h-5 text-emerald-600"})]),t("div",null,[e[10]||(e[10]=t("p",{class:"text-sm text-text-muted"},"Paid",-1)),t("p",ft,l(g(A.value)),1)])])]),t("div",gt,[t("div",ht,[t("div",_t,[r(o(Y),{class:"w-5 h-5 text-amber-600"})]),t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm text-text-muted"},"Receivable",-1)),t("p",yt,l(g(B.value)),1)])])]),t("div",bt,[t("div",wt,[t("div",St,[r(o(Z),{class:"w-5 h-5 text-red-600"})]),t("div",null,[e[12]||(e[12]=t("p",{class:"text-sm text-text-muted"},"Overdue",-1)),t("p",Dt,l(F.value),1)])])])]),t("div",Ct,[t("div",kt,[t("div",Nt,[r(o(K),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),type:"text",placeholder:"Cari invoice...",class:"input pl-10"},null,512),[[w,d.value]])]),_(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),class:"input w-full lg:w-40"},[e[13]||(e[13]=t("option",{value:""},"Semua Status",-1)),(u(!0),n(S,null,D(o(X),s=>(u(),n("option",{key:s.value,value:s.value},l(s.label),9,Pt))),128))],512),[[I,c.value]]),_(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>m.value=s),class:"input w-full lg:w-40"},[e[14]||(e[14]=t("option",{value:""},"Semua Pembayaran",-1)),(u(!0),n(S,null,D(o(q),s=>(u(),n("option",{key:s.value,value:s.value},l(s.label),9,It))),128))],512),[[I,m.value]]),_(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>p.value=s),type:"date",class:"input w-full lg:w-40",placeholder:"Dari tanggal"},null,512),[[w,p.value]]),_(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>v.value=s),type:"date",class:"input w-full lg:w-40",placeholder:"Sampai tanggal"},null,512),[[w,v.value]]),d.value||c.value||m.value||p.value||v.value?(u(),n("button",{key:0,onClick:O,class:"btn-outline flex items-center gap-2"},[r(o(M),{class:"w-4 h-4"}),e[15]||(e[15]=b(" Clear ",-1))])):L("",!0)])]),t("div",Lt,[t("div",Tt,[t("table",Vt,[e[17]||(e[17]=t("thead",null,[t("tr",null,[t("th",{class:"w-16"},"No"),t("th",null,"Invoice"),t("th",null,"Order"),t("th",null,"Buyer"),t("th",null,"Tgl Invoice"),t("th",null,"Jatuh Tempo"),t("th",{class:"text-right"},"Total"),t("th",{class:"text-right"},"Paid"),t("th",null,"Status"),t("th",null,"Pembayaran")])],-1)),t("tbody",null,[(u(!0),n(S,null,D(k.value,(s,y)=>(u(),n("tr",{key:s.id},[t("td",jt,l(y+1),1),t("td",null,[t("span",Ut,l(s.invoiceNumber),1)]),t("td",null,[t("span",At,l(s.orderNumber),1)]),t("td",null,[t("p",Bt,l(s.buyerName),1)]),t("td",Ft,l(N(s.issueDate)),1),t("td",{class:C(["text-sm",R(s.dueDate,s.paymentStatus)?"text-red-600 font-medium":""])},l(N(s.dueDate)),3),t("td",Ot,l(g(s.total)),1),t("td",Rt,l(g(s.paidAmount)),1),t("td",null,[t("span",{class:C(["badge",P(o(T)(s.status).color)])},l(o(T)(s.status).label),3)]),t("td",null,[t("span",{class:C(["badge",P(o(V)(s.paymentStatus).color)])},l(o(V)(s.paymentStatus).label),3)])]))),128)),k.value.length===0?(u(),n("tr",zt,[...e[16]||(e[16]=[t("td",{colspan:"10",class:"text-center py-12"},[t("div",{class:"empty-state"},[t("p",{class:"text-text-muted"},"Tidak ada data invoice")])],-1)])])):L("",!0)])])])])]))}});export{Gt as default};
