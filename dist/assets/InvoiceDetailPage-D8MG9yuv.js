import{c as P,d as S,A as T,a as o,b as t,p as i,j as l,H as j,t as a,n as m,f as c,x,C as B,F as L,s as N,K as R,B as F,r as h,m as k,M as K,k as M,o as n}from"./index-BSGSa2ke.js";import{d as V,g as w,a as D,f as d}from"./keuangan-B4ywQouM.js";import{A as z}from"./arrow-left-DtqTnOez.js";import{L as O}from"./loader-circle-CwFtZnJD.js";import{P as U,D as q}from"./printer-_nq0GVKs.js";import{T as E}from"./trash-2-BqUDwGYF.js";const H=P("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),J={class:"space-y-6"},Q={key:0,class:"flex items-center justify-center py-12"},$={key:1,class:"card p-12 text-center"},G={key:2,class:"space-y-6"},W={class:"card p-6"},X={class:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4"},Y={class:"flex items-start gap-4"},Z={class:"w-14 h-14 rounded-xl bg-accent-primary/10 flex items-center justify-center"},tt={class:"text-2xl font-display font-bold text-text-primary"},et={class:"text-text-secondary mt-1"},st={class:"flex items-center gap-3 mt-2"},at={key:0,class:"badge badge-danger"},lt={class:"flex items-center gap-2"},ot={key:0,class:"btn-outline"},nt={key:1,class:"btn-primary"},it={class:"btn-outline"},rt={class:"btn-outline"},dt={class:"btn-outline text-red-600 hover:bg-red-50"},ut={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ct={class:"lg:col-span-2 space-y-6"},mt={class:"card p-6"},xt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},pt={class:"space-y-4"},vt={class:"font-medium text-text-primary"},bt={class:"text-text-secondary"},yt={class:"space-y-4"},gt={class:"font-medium text-text-primary"},_t={class:"font-medium text-text-primary"},ft={class:"card p-6"},ht={class:"table-container"},kt={class:"table"},wt={class:"font-medium"},Dt={class:"text-right"},It={class:"text-right"},At={class:"text-right"},Ct={class:"text-right font-medium"},Pt={class:"text-right"},St={colspan:"4",class:"text-right"},Tt={class:"text-right"},jt={class:"border-t-2 border-border"},Bt={class:"text-right font-bold text-lg"},Lt={key:0,class:"card p-6"},Nt={class:"text-text-secondary"},Rt={class:"space-y-6"},Ft={class:"card p-6"},Kt={class:"space-y-4"},Mt={class:"p-4 bg-slate-50 rounded-lg"},Vt={class:"flex justify-between items-center mb-2"},zt={class:"font-bold text-text-primary"},Ot={class:"flex justify-between items-center mb-2"},Ut={class:"font-medium text-emerald-600"},qt={class:"border-t border-border pt-2"},Et={class:"flex justify-between items-center"},Ht={class:"flex justify-between text-sm mb-1"},Jt={class:"font-medium"},Qt={class:"w-full bg-slate-200 rounded-full h-2"},$t={key:0,class:"text-sm"},Gt={class:"text-text-primary"},Wt={class:"card p-6"},Xt={class:"space-y-4"},Yt={class:"text-sm text-text-primary"},Zt={class:"text-sm text-text-primary"},ie=S({__name:"InvoiceDetailPage",setup(te){const I=F(),A=M(),s=h(null),v=h(!0);T(()=>{const r=parseInt(I.params.id);s.value=V(r)||null,v.value=!1});const p=r=>new Date(r).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),b=r=>new Date(r).toLocaleString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=r=>{switch(r){case"gray":return"badge-neutral";case"blue":return"badge-primary";case"emerald":return"badge-success";case"red":return"badge-danger";case"slate":return"badge-neutral";default:return"badge-neutral"}},g=k(()=>s.value?s.value.total-s.value.paidAmount:0),_=k(()=>s.value?new Date(s.value.dueDate)<new Date&&s.value.paymentStatus!=="paid":!1),f=()=>{A.push({name:"keuangan-invoice"})};return(r,e)=>{const C=K("AlertCircle");return n(),o("div",J,[t("button",{onClick:f,class:"flex items-center gap-2 text-text-secondary hover:text-text-primary transition-colors"},[i(l(z),{class:"w-4 h-4"}),e[0]||(e[0]=t("span",null,"Kembali ke Daftar Invoice",-1))]),v.value?(n(),o("div",Q,[i(l(O),{class:"w-8 h-8 animate-spin text-accent-primary"})])):s.value?(n(),o("div",G,[t("div",W,[t("div",X,[t("div",Y,[t("div",Z,[i(l(j),{class:"w-7 h-7 text-accent-primary"})]),t("div",null,[t("h1",tt,a(s.value.invoiceNumber),1),t("p",et,"Order: "+a(s.value.orderNumber),1),t("div",st,[t("span",{class:m(["badge",y(l(w)(s.value.status).color)])},a(l(w)(s.value.status).label),3),t("span",{class:m(["badge",y(l(D)(s.value.paymentStatus).color)])},a(l(D)(s.value.paymentStatus).label),3),_.value?(n(),o("span",at,"Overdue")):c("",!0)])])]),t("div",lt,[s.value.status==="draft"?(n(),o("button",ot,[i(l(H),{class:"w-4 h-4"}),e[3]||(e[3]=x(" Kirim Invoice ",-1))])):c("",!0),s.value.paymentStatus!=="paid"?(n(),o("button",nt,[i(l(B),{class:"w-4 h-4"}),e[4]||(e[4]=x(" Record Payment ",-1))])):c("",!0),t("button",it,[i(l(U),{class:"w-4 h-4"}),e[5]||(e[5]=x(" Print ",-1))]),t("button",rt,[i(l(q),{class:"w-4 h-4"}),e[6]||(e[6]=x(" PDF ",-1))]),t("button",dt,[i(l(E),{class:"w-4 h-4"})])])])]),t("div",ut,[t("div",ct,[t("div",mt,[e[12]||(e[12]=t("h2",{class:"text-lg font-semibold text-text-primary mb-4"},"Informasi Invoice",-1)),t("div",xt,[t("div",pt,[t("div",null,[e[7]||(e[7]=t("label",{class:"text-sm text-text-muted"},"Buyer",-1)),t("p",vt,a(s.value.buyerName),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"text-sm text-text-muted"},"Alamat",-1)),t("p",bt,a(s.value.buyerAddress),1)])]),t("div",yt,[t("div",null,[e[9]||(e[9]=t("label",{class:"text-sm text-text-muted"},"Tanggal Invoice",-1)),t("p",gt,a(p(s.value.issueDate)),1)]),t("div",null,[e[10]||(e[10]=t("label",{class:"text-sm text-text-muted"},"Jatuh Tempo",-1)),t("p",{class:m(["font-medium",_.value?"text-red-600":"text-text-primary"])},a(p(s.value.dueDate)),3)]),t("div",null,[e[11]||(e[11]=t("label",{class:"text-sm text-text-muted"},"Currency",-1)),t("p",_t,a(s.value.currency),1)])])])]),t("div",ft,[e[16]||(e[16]=t("h2",{class:"text-lg font-semibold text-text-primary mb-4"},"Item Invoice",-1)),t("div",ht,[t("table",kt,[e[15]||(e[15]=t("thead",null,[t("tr",null,[t("th",null,"Description"),t("th",{class:"text-right"},"Qty"),t("th",{class:"text-right"},"Unit"),t("th",{class:"text-right"},"Unit Price"),t("th",{class:"text-right"},"Total")])],-1)),t("tbody",null,[(n(!0),o(L,null,N(s.value.items,u=>(n(),o("tr",{key:u.id},[t("td",wt,a(u.description),1),t("td",Dt,a(u.quantity),1),t("td",It,a(u.unit),1),t("td",At,a(l(d)(u.unitPrice)),1),t("td",Ct,a(l(d)(u.totalPrice)),1)]))),128))]),t("tfoot",null,[t("tr",null,[e[13]||(e[13]=t("td",{colspan:"4",class:"text-right font-medium"},"Subtotal",-1)),t("td",Pt,a(l(d)(s.value.subtotal)),1)]),t("tr",null,[t("td",St,"Tax ("+a(s.value.taxRate)+"%)",1),t("td",Tt,a(l(d)(s.value.tax)),1)]),t("tr",jt,[e[14]||(e[14]=t("td",{colspan:"4",class:"text-right font-bold text-lg"},"Total",-1)),t("td",Bt,a(l(d)(s.value.total)),1)])])])])]),s.value.notes?(n(),o("div",Lt,[e[17]||(e[17]=t("h2",{class:"text-lg font-semibold text-text-primary mb-4"},"Catatan",-1)),t("p",Nt,a(s.value.notes),1)])):c("",!0)]),t("div",Rt,[t("div",Ft,[e[23]||(e[23]=t("h2",{class:"text-lg font-semibold text-text-primary mb-4"},"Status Pembayaran",-1)),t("div",Kt,[t("div",Mt,[t("div",Vt,[e[18]||(e[18]=t("span",{class:"text-sm text-text-muted"},"Total Amount",-1)),t("span",zt,a(l(d)(s.value.total)),1)]),t("div",Ot,[e[19]||(e[19]=t("span",{class:"text-sm text-text-muted"},"Paid Amount",-1)),t("span",Ut,a(l(d)(s.value.paidAmount)),1)]),t("div",qt,[t("div",Et,[e[20]||(e[20]=t("span",{class:"text-sm font-medium"},"Remaining",-1)),t("span",{class:m(["font-bold",g.value>0?"text-red-600":"text-emerald-600"])},a(l(d)(g.value)),3)])])]),t("div",null,[t("div",Ht,[e[21]||(e[21]=t("span",{class:"text-text-muted"},"Payment Progress",-1)),t("span",Jt,a(Math.round(s.value.paidAmount/s.value.total*100))+"%",1)]),t("div",Qt,[t("div",{class:"bg-emerald-500 h-2 rounded-full transition-all",style:R({width:`${s.value.paidAmount/s.value.total*100}%`})},null,4)])]),s.value.paidDate?(n(),o("div",$t,[e[22]||(e[22]=t("span",{class:"text-text-muted"},"Paid on: ",-1)),t("span",Gt,a(p(s.value.paidDate)),1)])):c("",!0)])]),t("div",Wt,[e[26]||(e[26]=t("h2",{class:"text-lg font-semibold text-text-primary mb-4"},"Informasi Lainnya",-1)),t("div",Xt,[t("div",null,[e[24]||(e[24]=t("label",{class:"text-sm text-text-muted"},"Dibuat",-1)),t("p",Yt,a(b(s.value.createdAt)),1)]),t("div",null,[e[25]||(e[25]=t("label",{class:"text-sm text-text-muted"},"Terakhir Diupdate",-1)),t("p",Zt,a(b(s.value.updatedAt)),1)])])])])])])):(n(),o("div",$,[i(C,{class:"w-12 h-12 text-red-500 mx-auto mb-4"}),e[1]||(e[1]=t("h2",{class:"text-xl font-semibold text-text-primary mb-2"},"Invoice Tidak Ditemukan",-1)),e[2]||(e[2]=t("p",{class:"text-text-secondary mb-4"},"Invoice dengan ID tersebut tidak ditemukan dalam sistem.",-1)),t("button",{onClick:f,class:"btn-primary"},"Kembali ke Daftar")]))])}}});export{ie as default};
