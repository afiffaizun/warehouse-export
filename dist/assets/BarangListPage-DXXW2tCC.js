import{d as A,a as o,b as t,p as g,j as i,x as h,y as I,g as P,v as R,z as B,F as _,s as y,f as k,t as l,w as F,r,m as D,k as z,n as M,o as n}from"./index-CVldBSkh.js";import{c as q,s as G,g as Q,a as T,m as X}from"./barang-CFxOeyqE.js";import{P as J}from"./plus-BKVculHu.js";import{X as O}from"./x-DGkhxh_E.js";import{E as W}from"./eye-C7Hpcu5W.js";import{S as Y}from"./square-pen-D_JHByYj.js";import{T as Z}from"./trash-2-DqtDWR6Z.js";const tt={class:"space-y-4"},et={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},st={class:"card p-4"},at={class:"flex flex-col lg:flex-row gap-4"},lt={class:"flex-1 relative"},ot=["value"],nt=["value"],it={class:"card overflow-hidden"},ut={class:"table-container"},rt={class:"table"},dt={class:"font-mono text-sm text-text-muted"},ct={class:"w-12 h-12 rounded-lg overflow-hidden bg-slate-100"},vt=["src","alt"],mt={class:"font-medium text-text-primary"},gt={class:"text-sm text-text-muted font-mono"},bt={class:"badge badge-neutral"},ft={class:"text-right font-medium"},pt={class:"text-right font-medium"},xt={class:"flex items-center gap-1"},ht=["onClick"],_t=["onClick"],yt=["onClick"],kt={key:0},wt={key:0,class:"flex items-center justify-between px-4 py-3 border-t border-border"},Ct={class:"text-sm text-text-muted"},St={class:"flex items-center gap-2"},Pt=["disabled"],Dt={class:"flex gap-1"},Tt=["onClick"],$t=["disabled"],Lt={class:"modal-content max-w-sm"},Ut={class:"modal-body"},Bt={class:"text-text-secondary"},Mt={class:"text-text-primary"},Nt={class:"modal-footer"},Ft=A({__name:"BarangListPage",setup(Vt){const w=z(),C=r([...X]),d=r(""),c=r(""),v=r(""),b=r(!1),f=r(null),u=r(1),m=r(10),p=D(()=>C.value.filter(a=>{const e=!d.value||a.name.toLowerCase().includes(d.value.toLowerCase())||a.sku.toLowerCase().includes(d.value.toLowerCase()),s=!c.value||a.category===c.value,x=!v.value||a.status===v.value;return e&&s&&x})),$=D(()=>{const a=(u.value-1)*m.value,e=a+m.value;return p.value.slice(a,e)}),S=D(()=>Math.ceil(p.value.length/m.value)),N=()=>{d.value="",c.value="",v.value=""},V=()=>{w.push({name:"barang-tambah"})},K=a=>{w.push({name:"barang-edit",params:{id:a}})},E=a=>{w.push({name:"barang-detail",params:{id:a}})},H=a=>{f.value=a,b.value=!0},j=()=>{f.value&&(C.value=C.value.filter(a=>a.id!==f.value?.id),b.value=!1,f.value=null)},L=(a,e="IDR")=>e==="USD"?`$${a.toLocaleString()}`:`Rp ${a.toLocaleString()}`;return(a,e)=>(n(),o("div",tt,[t("div",et,[e[8]||(e[8]=t("div",null,[t("h1",{class:"text-2xl font-display font-bold text-text-primary"},"Daftar Barang"),t("p",{class:"text-text-secondary mt-1"},"Kelola data produk ekspor")],-1)),t("button",{onClick:V,class:"btn-primary"},[g(i(J),{class:"w-4 h-4"}),e[7]||(e[7]=h(" Tambah Barang ",-1))])]),t("div",st,[t("div",at,[t("div",lt,[g(i(I),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),P(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),type:"text",placeholder:"Cari nama atau SKU...",class:"input pl-10"},null,512),[[R,d.value]])]),P(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),class:"input w-full lg:w-48"},[e[9]||(e[9]=t("option",{value:""},"Semua Kategori",-1)),(n(!0),o(_,null,y(i(q),s=>(n(),o("option",{key:s.value,value:s.value},l(s.label),9,ot))),128))],512),[[B,c.value]]),P(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>v.value=s),class:"input w-full lg:w-40"},[e[10]||(e[10]=t("option",{value:""},"Semua Status",-1)),(n(!0),o(_,null,y(i(G),s=>(n(),o("option",{key:s.value,value:s.value},l(s.label),9,nt))),128))],512),[[B,v.value]]),d.value||c.value||v.value?(n(),o("button",{key:0,onClick:N,class:"btn-outline flex items-center gap-2"},[g(i(O),{class:"w-4 h-4"}),e[11]||(e[11]=h(" Clear ",-1))])):k("",!0)])]),t("div",it,[t("div",ut,[t("table",rt,[e[13]||(e[13]=t("thead",null,[t("tr",null,[t("th",{class:"w-16"},"No"),t("th",{class:"w-24"},"Gambar"),t("th",null,"Nama / SKU"),t("th",null,"Kategori"),t("th",{class:"text-right"},"Harga (IDR)"),t("th",{class:"text-right"},"Harga (USD)"),t("th",null,"Status"),t("th",{class:"w-32"},"Aksi")])],-1)),t("tbody",null,[(n(!0),o(_,null,y($.value,(s,x)=>(n(),o("tr",{key:s.id},[t("td",dt,l((u.value-1)*m.value+x+1),1),t("td",null,[t("div",ct,[t("img",{src:s.images[0]?.url,alt:s.name,class:"w-full h-full object-cover"},null,8,vt)])]),t("td",null,[t("div",null,[t("p",mt,l(s.name),1),t("p",gt,l(s.sku),1)])]),t("td",null,[t("span",bt,l(i(Q)(s.category)),1)]),t("td",ft,l(L(s.priceIdr)),1),t("td",pt,l(L(s.priceUsd,"USD")),1),t("td",null,[t("span",{class:M(["badge",i(T)(s.status).color==="success"?"badge-success":i(T)(s.status).color==="danger"?"badge-danger":"badge-secondary"])},l(i(T)(s.status).label),3)]),t("td",null,[t("div",xt,[t("button",{onClick:U=>E(s.id),class:"btn-icon btn-ghost",title:"Lihat"},[g(i(W),{class:"w-4 h-4"})],8,ht),t("button",{onClick:U=>K(s.id),class:"btn-icon btn-ghost",title:"Edit"},[g(i(Y),{class:"w-4 h-4"})],8,_t),t("button",{onClick:U=>H(s),class:"btn-icon btn-ghost text-accent-danger hover:bg-red-50",title:"Hapus"},[g(i(Z),{class:"w-4 h-4"})],8,yt)])])]))),128)),$.value.length===0?(n(),o("tr",kt,[...e[12]||(e[12]=[t("td",{colspan:"8",class:"text-center py-12"},[t("div",{class:"empty-state"},[t("p",{class:"text-text-muted"},"Tidak ada data barang")])],-1)])])):k("",!0)])])]),S.value>1?(n(),o("div",wt,[t("p",Ct," Menampilkan "+l((u.value-1)*m.value+1)+" - "+l(Math.min(u.value*m.value,p.value.length))+" dari "+l(p.value.length)+" data ",1),t("div",St,[t("button",{onClick:e[3]||(e[3]=s=>u.value--),disabled:u.value===1,class:"btn-outline btn-sm"}," Previous ",8,Pt),t("div",Dt,[(n(!0),o(_,null,y(S.value,s=>(n(),o("button",{key:s,onClick:x=>u.value=s,class:M(["w-8 h-8 rounded-lg text-sm font-medium transition-colors",u.value===s?"bg-accent-primary text-white":"text-text-secondary hover:bg-slate-100"])},l(s),11,Tt))),128))]),t("button",{onClick:e[4]||(e[4]=s=>u.value++),disabled:u.value===S.value,class:"btn-outline btn-sm"}," Next ",8,$t)])])):k("",!0)]),b.value?(n(),o("div",{key:0,class:"modal-overlay",onClick:e[6]||(e[6]=F(s=>b.value=!1,["self"]))},[t("div",Lt,[e[17]||(e[17]=t("div",{class:"modal-header"},[t("h3",{class:"font-semibold text-lg"},"Konfirmasi Hapus")],-1)),t("div",Ut,[t("p",Bt,[e[14]||(e[14]=h(" Apakah Anda yakin ingin menghapus barang ",-1)),t("strong",Mt,l(f.value?.name),1),e[15]||(e[15]=h("? ",-1))]),e[16]||(e[16]=t("p",{class:"text-sm text-text-muted mt-2"},"Tindakan ini tidak dapat dibatalkan.",-1))]),t("div",Nt,[t("button",{onClick:e[5]||(e[5]=s=>b.value=!1),class:"btn-outline"}," Batal "),t("button",{onClick:j,class:"btn-danger"}," Hapus ")])])])):k("",!0)]))}});export{Ft as default};
