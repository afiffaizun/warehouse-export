import{c as P,d as j,r as p,a as i,b as t,p as o,j as n,x as v,P as I,t as l,y as M,z as T,g,v as V,A as W,F as f,s as y,X as z,f as w,m as c,n as U,o as r}from"./index-CUmndf2P.js";import{w as A,m as B}from"./stok-o4hf6QBl.js";import{P as D,D as Q}from"./printer-D6xy81W6.js";import{T as F}from"./trending-up-D0UVvKl-.js";const K=P("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),E={class:"space-y-4"},G={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},H={class:"flex items-center gap-2"},O={class:"btn-outline"},R={class:"btn-primary"},X={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},J={class:"card p-4"},Y={class:"flex items-center gap-3"},Z={class:"w-10 h-10 rounded-lg bg-accent-primary/10 flex items-center justify-center"},$={class:"text-xl font-bold text-text-primary"},tt={class:"card p-4"},et={class:"flex items-center gap-3"},st={class:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center"},at={class:"text-xl font-bold text-blue-600"},lt={class:"card p-4"},ot={class:"flex items-center gap-3"},nt={class:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center"},dt={class:"text-xl font-bold text-red-600"},it={class:"card p-4"},rt={class:"flex items-center gap-3"},ut={class:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center"},ct={class:"text-xl font-bold text-emerald-600"},mt={class:"card p-4"},xt={class:"flex flex-col lg:flex-row gap-4"},pt={class:"flex-1 relative"},ht=["value"],vt={class:"card overflow-hidden"},_t={class:"table-container"},gt={class:"table"},ft={class:"font-mono text-sm text-text-muted"},yt={class:"font-medium text-text-primary"},wt={class:"font-mono text-sm"},bt={class:"text-sm"},St={class:"text-right font-medium"},kt={class:"text-right text-text-muted"},Lt={class:"text-right text-text-muted"},Ct={class:"text-sm"},qt={key:0},Tt=j({__name:"LaporanStokPage",setup(Nt){const m=p([...B]),h=p([...A]),d=p(""),u=p(""),_=c(()=>m.value.filter(a=>{const e=!d.value||a.productName.toLowerCase().includes(d.value.toLowerCase())||a.productSku.toLowerCase().includes(d.value.toLowerCase()),s=!u.value||a.warehouseId===u.value;return e&&s})),b=c(()=>new Set(m.value.map(e=>e.productId)).size),S=c(()=>m.value.reduce((a,e)=>a+e.quantity,0)),k=c(()=>m.value.filter(a=>a.quantity<=a.minStock).length),L=c(()=>h.value.length),C=a=>{const e=h.value.find(s=>s.id===a);return e?e.name:"-"},q=()=>{d.value="",u.value=""},x=(a,e)=>a===0?"out":a<=e?"low":"ok";return(a,e)=>(r(),i("div",E,[t("div",G,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-2xl font-display font-bold text-text-primary"},"Laporan Stok"),t("p",{class:"text-text-secondary mt-1"},"Ringkasan dan analisis stok gudang")],-1)),t("div",H,[t("button",O,[o(n(D),{class:"w-4 h-4"}),e[2]||(e[2]=v(" Print ",-1))]),t("button",R,[o(n(Q),{class:"w-4 h-4"}),e[3]||(e[3]=v(" Export ",-1))])])]),t("div",X,[t("div",J,[t("div",Y,[t("div",Z,[o(n(I),{class:"w-5 h-5 text-accent-primary"})]),t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-text-muted"},"Total Items",-1)),t("p",$,l(b.value),1)])])]),t("div",tt,[t("div",et,[t("div",st,[o(n(F),{class:"w-5 h-5 text-blue-600"})]),t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm text-text-muted"},"Total Quantity",-1)),t("p",at,l(S.value.toLocaleString())+" units",1)])])]),t("div",lt,[t("div",ot,[t("div",nt,[o(n(M),{class:"w-5 h-5 text-red-600"})]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-text-muted"},"Low Stock Alerts",-1)),t("p",dt,l(k.value),1)])])]),t("div",it,[t("div",rt,[t("div",ut,[o(n(K),{class:"w-5 h-5 text-emerald-600"})]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm text-text-muted"},"Warehouses",-1)),t("p",ct,l(L.value),1)])])])]),t("div",mt,[t("div",xt,[t("div",pt,[o(n(T),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),type:"text",placeholder:"Cari produk atau SKU...",class:"input pl-10"},null,512),[[V,d.value]])]),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),class:"input w-full lg:w-48"},[e[9]||(e[9]=t("option",{value:""},"Semua Gudang",-1)),(r(!0),i(f,null,y(h.value,s=>(r(),i("option",{key:s.id,value:s.id},l(s.name),9,ht))),128))],512),[[W,u.value]]),d.value||u.value?(r(),i("button",{key:0,onClick:q,class:"btn-outline flex items-center gap-2"},[o(n(z),{class:"w-4 h-4"}),e[10]||(e[10]=v(" Clear ",-1))])):w("",!0)])]),t("div",vt,[t("div",_t,[t("table",gt,[e[12]||(e[12]=t("thead",null,[t("tr",null,[t("th",{class:"w-16"},"No"),t("th",null,"Produk"),t("th",null,"SKU"),t("th",null,"Gudang"),t("th",{class:"text-right"},"Quantity"),t("th",{class:"text-right"},"Min Stock"),t("th",{class:"text-right"},"Max Stock"),t("th",null,"Batch"),t("th",null,"Status")])],-1)),t("tbody",null,[(r(!0),i(f,null,y(_.value,(s,N)=>(r(),i("tr",{key:s.id},[t("td",ft,l(N+1),1),t("td",null,[t("p",yt,l(s.productName),1)]),t("td",null,[t("span",wt,l(s.productSku),1)]),t("td",null,[t("span",bt,l(C(s.warehouseId)),1)]),t("td",St,l(s.quantity.toLocaleString()),1),t("td",kt,l(s.minStock),1),t("td",Lt,l(s.maxStock),1),t("td",Ct,l(s.batchNumber||"-"),1),t("td",null,[t("span",{class:U(["badge",x(s.quantity,s.minStock)==="ok"?"badge-success":x(s.quantity,s.minStock)==="low"?"badge-warning":"badge-danger"])},l(x(s.quantity,s.minStock)==="ok"?"OK":x(s.quantity,s.minStock)==="low"?"Low Stock":"Out of Stock"),3)])]))),128)),_.value.length===0?(r(),i("tr",qt,[...e[11]||(e[11]=[t("td",{colspan:"9",class:"text-center py-12"},[t("div",{class:"empty-state"},[t("p",{class:"text-text-muted"},"Tidak ada data stok")])],-1)])])):w("",!0)])])])])]))}});export{Tt as default};
