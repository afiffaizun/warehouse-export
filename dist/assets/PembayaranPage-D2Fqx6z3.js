import{d as j,a as r,b as e,p as m,j as o,x as k,t as a,y as T,g as P,v as B,z as V,F as _,s as f,f as g,r as v,m as p,n as N,o as d}from"./index-BdnMpLST.js";import{f as M,m as I,e as F,h as R,j as $}from"./keuangan-B4ywQouM.js";import{P as z}from"./plus-CUGrAXEY.js";import{D as A}from"./dollar-sign-B4bK_jMh.js";import{C as U}from"./circle-check-big-D_lyCjYH.js";import{C as E}from"./clock-BpjCA_nI.js";import{X as J}from"./x-CKL7Z-Vz.js";const K={class:"space-y-4"},O={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Q={class:"btn-primary"},X={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},q={class:"card p-4"},G={class:"flex items-center gap-3"},H={class:"w-10 h-10 rounded-lg bg-accent-primary/10 flex items-center justify-center"},W={class:"text-xl font-bold text-text-primary"},Y={class:"card p-4"},Z={class:"flex items-center gap-3"},ee={class:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center"},te={class:"text-xl font-bold text-emerald-600"},se={class:"card p-4"},ae={class:"flex items-center gap-3"},le={class:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center"},oe={class:"text-xl font-bold text-amber-600"},ne={class:"card p-4"},re={class:"flex flex-col lg:flex-row gap-4"},de={class:"flex-1 relative"},ie=["value"],ue={class:"card overflow-hidden"},ce={class:"table-container"},me={class:"table"},ve={class:"font-mono text-sm text-text-muted"},xe={class:"font-medium text-text-primary font-mono"},pe={class:"text-sm text-text-muted"},he={class:"font-mono text-sm"},be={class:"font-mono text-sm"},_e={class:"font-medium text-text-primary"},fe={class:"text-sm"},ge={class:"font-medium text-emerald-600"},ye={class:"font-mono text-sm text-text-muted"},we={key:0},Ce={key:0,class:"flex items-center justify-between px-4 py-3 border-t border-border"},ke={class:"text-sm text-text-muted"},Pe={class:"flex items-center gap-2"},Ne=["disabled"],Me={class:"flex gap-1"},Le=["onClick"],De=["disabled"],$e=j({__name:"PembayaranPage",setup(Se){const h=v([...$]),i=v(""),u=v(""),n=v(1),c=v(10),x=p(()=>h.value.filter(l=>{const t=!i.value||l.paymentNumber.toLowerCase().includes(i.value.toLowerCase())||l.invoiceNumber.toLowerCase().includes(i.value.toLowerCase())||l.orderNumber.toLowerCase().includes(i.value.toLowerCase())||l.buyerName.toLowerCase().includes(i.value.toLowerCase()),s=!u.value||l.paymentMethod===u.value;return t&&s})),y=p(()=>{const l=(n.value-1)*c.value,t=l+c.value;return x.value.slice(l,t)}),b=p(()=>Math.ceil(x.value.length/c.value)),L=p(()=>h.value.reduce((l,t)=>l+t.amount,0)),D=()=>{i.value="",u.value=""},w=l=>new Date(l).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}),S=l=>{switch(l){case"bank_transfer":return"badge-primary";case"cash":return"badge-success";case"credit":return"badge-warning";default:return"badge-neutral"}};return(l,t)=>(d(),r("div",K,[e("div",O,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-2xl font-display font-bold text-text-primary"},"Pembayaran"),e("p",{class:"text-text-secondary mt-1"},"Kelola penerimaan pembayaran dari buyer")],-1)),e("button",Q,[m(o(z),{class:"w-4 h-4"}),t[4]||(t[4]=k(" Record Pembayaran ",-1))])]),e("div",X,[e("div",q,[e("div",G,[e("div",H,[m(o(A),{class:"w-5 h-5 text-accent-primary"})]),e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm text-text-muted"},"Total Transactions",-1)),e("p",W,a(h.value.length),1)])])]),e("div",Y,[e("div",Z,[e("div",ee,[m(o(U),{class:"w-5 h-5 text-emerald-600"})]),e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm text-text-muted"},"Total Received",-1)),e("p",te,a(o(M)(L.value)),1)])])]),e("div",se,[e("div",ae,[e("div",le,[m(o(E),{class:"w-5 h-5 text-amber-600"})]),e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm text-text-muted"},"Pending Invoices",-1)),e("p",oe,a(o(I).filter(s=>s.paymentStatus!=="paid").length),1)])])])]),e("div",ne,[e("div",re,[e("div",de,[m(o(T),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),P(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),type:"text",placeholder:"Cari pembayaran...",class:"input pl-10"},null,512),[[B,i.value]])]),P(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>u.value=s),class:"input w-full lg:w-48"},[t[9]||(t[9]=e("option",{value:""},"Semua Metode",-1)),(d(!0),r(_,null,f(o(F),s=>(d(),r("option",{key:s.value,value:s.value},a(s.label),9,ie))),128))],512),[[V,u.value]]),i.value||u.value?(d(),r("button",{key:0,onClick:D,class:"btn-outline flex items-center gap-2"},[m(o(J),{class:"w-4 h-4"}),t[10]||(t[10]=k(" Clear ",-1))])):g("",!0)])]),e("div",ue,[e("div",ce,[e("table",me,[t[12]||(t[12]=e("thead",null,[e("tr",null,[e("th",{class:"w-16"},"No"),e("th",null,"Pembayaran"),e("th",null,"Invoice"),e("th",null,"Order"),e("th",null,"Buyer"),e("th",null,"Metode"),e("th",null,"Tgl Pembayaran"),e("th",null,"Jumlah"),e("th",null,"Ref Number")])],-1)),e("tbody",null,[(d(!0),r(_,null,f(y.value,(s,C)=>(d(),r("tr",{key:s.id},[e("td",ve,a((n.value-1)*c.value+C+1),1),e("td",null,[e("div",null,[e("p",xe,a(s.paymentNumber),1),e("p",pe,a(w(s.createdAt)),1)])]),e("td",null,[e("span",he,a(s.invoiceNumber),1)]),e("td",null,[e("span",be,a(s.orderNumber),1)]),e("td",null,[e("p",_e,a(s.buyerName),1)]),e("td",null,[e("span",{class:N(["badge",S(s.paymentMethod)])},a(o(R)(s.paymentMethod)),3)]),e("td",fe,a(w(s.paymentDate)),1),e("td",ge,a(o(M)(s.amount)),1),e("td",null,[e("span",ye,a(s.referenceNumber),1)])]))),128)),y.value.length===0?(d(),r("tr",we,[...t[11]||(t[11]=[e("td",{colspan:"9",class:"text-center py-12"},[e("div",{class:"empty-state"},[e("p",{class:"text-text-muted"},"Tidak ada data pembayaran")])],-1)])])):g("",!0)])])]),b.value>1?(d(),r("div",Ce,[e("p",ke," Menampilkan "+a((n.value-1)*c.value+1)+" - "+a(Math.min(n.value*c.value,x.value.length))+" dari "+a(x.value.length)+" data ",1),e("div",Pe,[e("button",{onClick:t[2]||(t[2]=s=>n.value--),disabled:n.value===1,class:"btn-outline btn-sm"}," Previous ",8,Ne),e("div",Me,[(d(!0),r(_,null,f(b.value,s=>(d(),r("button",{key:s,onClick:C=>n.value=s,class:N(["w-8 h-8 rounded-lg text-sm font-medium transition-colors",n.value===s?"bg-accent-primary text-white":"text-text-secondary hover:bg-slate-100"])},a(s),11,Le))),128))]),e("button",{onClick:t[3]||(t[3]=s=>n.value++),disabled:n.value===b.value,class:"btn-outline btn-sm"}," Next ",8,De)])])):g("",!0)])]))}});export{$e as default};
